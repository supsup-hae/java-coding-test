# í‘œ í¸ì§‘

## ğŸ“Œ ë¬¸ì œ ì •ë³´
- **ë¬¸ì œ**: [í‘œ í¸ì§‘](https://school.programmers.co.kr/learn/courses/30/lessons/81303)
- **ë‚œì´ë„**: Level 3
- **ìœ í˜•**: êµ¬í˜„, ìë£Œêµ¬ì¡°

## ğŸ‘“ ë¬¸ì œ ì„¤ëª…
ì—…ë¬´ìš© ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê°œë°œí•˜ëŠ” ë‹ˆë‹ˆì¦ˆì›ìŠ¤ì˜ ì¸í„´ì¸ ì•™ëª¬ë“œëŠ” ëª…ë ¹ì–´ ê¸°ë°˜ìœ¼ë¡œ í‘œì˜ í–‰ì„ ì„ íƒ, ì‚­ì œ, ë³µêµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ëŠ” ê³¼ì œë¥¼ ë§¡ì•˜ìŠµë‹ˆë‹¤. í‘œì˜ í–‰ì„ ì„ íƒí•˜ê³  í¸ì§‘í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤[1]:

- `"U X"`: í˜„ì¬ ì„ íƒëœ í–‰ì—ì„œ Xì¹¸ ìœ„ì— ìˆëŠ” í–‰ì„ ì„ íƒ
- `"D X"`: í˜„ì¬ ì„ íƒëœ í–‰ì—ì„œ Xì¹¸ ì•„ë˜ì— ìˆëŠ” í–‰ì„ ì„ íƒ
- `"C"`: í˜„ì¬ ì„ íƒëœ í–‰ì„ ì‚­ì œí•˜ê³  ë°”ë¡œ ì•„ë˜ í–‰ì„ ì„ íƒ (ë§ˆì§€ë§‰ í–‰ì¸ ê²½ìš° ìœ— í–‰ ì„ íƒ)
- `"Z"`: ê°€ì¥ ìµœê·¼ì— ì‚­ì œëœ í–‰ì„ ë³µêµ¬ (ì„ íƒëœ í–‰ì€ ë°”ë€Œì§€ ì•ŠìŒ)

## ğŸš« ì œí•œì‚¬í•­
- 5 â‰¤ n â‰¤ 1,000,000
- 0 â‰¤ k < n
- 1 â‰¤ cmdì˜ ì›ì†Œ ê°œìˆ˜ â‰¤ 200,000
- XëŠ” 1 ì´ìƒ 300,000 ì´í•˜ì¸ ìì—°ìˆ˜
- cmdì— ë“±ì¥í•˜ëŠ” ëª¨ë“  Xë“¤ì˜ í•©ì€ 1,000,000 ì´í•˜
- í‘œì˜ ëª¨ë“  í–‰ì´ ì œê±°ë˜ëŠ” ê²½ìš°ëŠ” ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§€ì§€ ì•ŠìŒ

## ğŸ–¥ï¸ ì…ì¶œë ¥ ì˜ˆ
| n | k | cmd | result |
|---|---|-----|--------|
| 8 | 2 | ["D 2","C","U 3","C","D 4","C","U 2","Z","Z"] | "OOOOXOOO" |
| 8 | 2 | ["D 2","C","U 3","C","D 4","C","U 2","Z","Z","U 1","C"] | "OOXOXOOO" |

## ğŸ“ ì…ì¶œë ¥ ì˜ˆ ì„¤ëª…
ì²« ë²ˆì§¸ ì˜ˆì‹œëŠ” ë¬¸ì œì˜ ì˜ˆì‹œì™€ ë™ì¼í•©ë‹ˆë‹¤. ë‘ ë²ˆì§¸ ì˜ˆì‹œëŠ” ì²˜ìŒ 9ê°œì˜ ëª…ë ¹ì–´ê¹Œì§€ëŠ” ì²« ë²ˆì§¸ ì˜ˆì‹œì™€ ë™ì¼í•˜ê²Œ ìˆ˜í–‰ëœ í›„, "U 1"ê³¼ "C" ëª…ë ¹ì–´ê°€ ì¶”ê°€ë¡œ ìˆ˜í–‰ë˜ì–´ ìµœì¢…ì ìœ¼ë¡œ ë‘ ê°œì˜ í–‰ì´ ì‚­ì œëœ ìƒíƒœê°€ ë©ë‹ˆë‹¤[1].

## â° ì œí•œì‹œê°„
- ì •í™•ì„± í…ŒìŠ¤íŠ¸: 10ì´ˆ
- íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸: ì–¸ì–´ë³„ ì‘ì„±ëœ ì •ë‹µ ì½”ë“œì˜ ì‹¤í–‰ ì‹œê°„ì˜ ì ì • ë°°ìˆ˜[1]

* [ ] **ì œí•œ ì‹œê°„ ë‚´ í’€ì´**
* [x] **ì‹œê°„ ì´ˆê³¼**

### ğŸ’¡ ì ‘ê·¼ ë°©ë²•

1. ì´ˆê¸° ì ‘ê·¼
   1. ì‚­ì œ ë° ë³µêµ¬ì— ê´€í•œ ë¡œì§ì€ Stackì„ ì´ìš©í•´ì„œ êµ¬í˜„í•˜ê³ , ì¸ë±ìŠ¤ì˜ ì¡°íšŒì™€ í˜„ì¬ ìœ„ì¹˜ë“±ì€ listë¥¼ ì´ìš©í•œ ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼
         - í•˜ì§€ë§Œ listë¥¼ ì´ìš©ì‹œ ì‚­ì œ í›„ ë³µêµ¬ ë˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ì§€ì •í•˜ëŠ” ê³¼ì •ì—ì„œ ë¦¬ìŠ¤íŠ¸ì˜ íŠ¹ì§•ì¸ ë™ì  ì‚¬ì´ì¦ˆì— ì˜í•´ ë¡œì§ êµ¬í˜„ì‹œ ë³µêµ¬ë˜ëŠ” ê°’ì´ ì›í•˜ëŠ” ì¸ë±ìŠ¤ì— ì‚½ì… ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ ë°œìƒ
   2. listì˜ ë¬¸ì œì ì„ ê¹¨ë‹«ê³  arrayë¡œ ë°”ê¾¸ì–´ ë¡œì§ì„ êµ¬í˜„í•˜ì˜€ì§€ë§Œ ë¬¸ì œì—ì„œ ì¸ë±ìŠ¤ê°€ ì´ë™í•˜ëŠ” ê³¼ì •ì€ ë™ì  ì‚¬ì´ì¦ˆë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì§„í–‰ë˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ í•´ê²°í•˜ì§ ëª»í•˜ê³  ì‹¤íŒ¨
        - í…ŒìŠ¤íŠ¸ 1ë²ˆì€ ë„˜ê²¼ì§€ë§Œ 2ë²ˆì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ë‹¤. í…ŒìŠ¤íŠ¸ë§Œë³´ê³  í•´ë‹¹í•˜ëŠ” ìš”êµ¬ ê°’ì— ë§ì¶”ë ¤ê³  êµ¬í˜„í•˜ë ¤ëŠ” ë‚˜ìœ ë²„ë¦‡ì´ë‹¤.
```java

import java.util.Arrays;
import java.util.List;
import java.util.Stack;
import java.util.stream.Collectors;

public class Solution {
	static Stack<Integer> stack = new Stack<>();
	static int[] array;
	static StringBuilder sb = new StringBuilder();
	static int current;
	static int MIN = 0;
	static int MAX;

	public String solution(int n, int k, String[] cmd) {
		current = k;
		MAX = n;
		array = new int[n];
		for (int i = 0; i < MAX; i++) {
			array[i] = i;
		}
		for (int i = 0; i < cmd.length; i++) {
			if (cmd[i].contains("U")) {
				moveUp(cmd[i]);
			} else if (cmd[i].contains("D")) {
				moveDown(cmd[i]);
			} else if (cmd[i].contains("C")) {
				deleteCell();
			} else if (cmd[i].contains("Z")) {
				redoCell();
			}
		}
		System.out.println(array);
		List<Integer> list = Arrays.stream(array).boxed().collect(Collectors.toList());
		for (int i = 0; i < MAX; i++) {
			if (list.contains(i)) {
				sb.append("O");
			} else {
				sb.append("X");
			}
		}
        		System.out.println( sb.toString());
		return sb.toString();
	}

	private static void redoCell() {
		int value = stack.pop();
		array[value] = value;
        current++;
		validate();
	}

	private static void deleteCell() {
		stack.add(current);
		array[current] = 0;
		current++;
		validate();
	}

	private static void moveDown(String cmd) {
		String number = cmd.split(" ")[1];
		current += Integer.parseInt(number);
		validate();
	}

	private static void moveUp(String cmd) {
		String number = cmd.split(" ")[1];
		current -= Integer.parseInt(number);
		validate();
	}

	private static void validate() {
		if (current > array.length) {
			current = array.length -1;
		} else if (current < MIN) {
			current = MIN;
		}
	}

}

```

2. ìµœì¢… ì ‘ê·¼
    - ë¬¸ì œ í’€ì´ì—ì„œëŠ” ì‹¤ì œ ë°°ì—´ì„ ì„ ì–¸í•˜ê³  ì‚½ì… ì‚­ì œ ì—°ì‚° ëŒ€ì‹  ì¸ë±ìŠ¤ë§Œì„ ì´ìš©í•´ì„œ ì—°ì‚°ì„ ì§„í–‰í•˜ì˜€ë‹¤.
    - `up` `down` ë°°ì—´ì„ ê°ê° ë§Œë“¤ì–´ ê¸°ì¡´ ë°°ì—´ì—ì„œì˜ ìƒë‹¨ê³¼ í•˜ë‹¨ ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ ì´ˆê¸°ì— ë³„ë„ë¡œ ì§€ì •
    - ì‚­ì œ ë³µêµ¬ì‹œ í•´ë‹¹í•˜ëŠ” ë°°ì—´ë§ˆë‹¤ ê°’ì„ ê°±ì‹ í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ë©° ì‚­ì œí•œ ê°’ì€ Stackì— ë³´ê´€í•˜ì—¬ `push()`, `pop()` ì—°ì‚°ì„ í†µí•´ ê´€ë¦¬

### ğŸ” ì •ë‹µ ì½”ë“œ

```java
import java.util.Arrays;
import java.util.Stack;

class Solution {
   public String solution(int n, int k, String[] cmd) {
      // â¶ ì‚­ì œëœ í–‰ì˜ ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•˜ëŠ” ìŠ¤íƒ
      Stack<Integer> deleted = new Stack<>();
      // â· ê° í–‰ì„ ê¸°ì¤€ìœ¼ë¡œ ì—°ì‚°ì— ë”°ë¥¸ ìœ„ì¹˜ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•œ ë°°ì—´
      int[] up = new int[n + 2];
      int[] down = new int[n + 2];

      for (int i = 0; i < n + 2; i++) {
         up[i] = i - 1;
         down[i] = i + 1;
      }

      // â¸ í˜„ì¬ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¸ë±ìŠ¤
      k++;

      // â¹ ì£¼ì–´ì§„ ëª…ë ¹ì–´(cmd) ë°°ì—´ì„ í•˜ë‚˜ì”© ì²˜ë¦¬
      for (String c : cmd) {
         // âº í˜„ì¬ ìœ„ì¹˜ë¥¼ ì‚­ì œí•˜ê³  ê·¸ ë‹¤ìŒ ìœ„ì¹˜ë¡œ ì´ë™
         if (c.startsWith("C")) {
            deleted.push(k);
            up[down[k]] = up[k];
            down[up[k]] = down[k];
            k = n < down[k] ? up[k] : down[k];
         }
         // â» ê°€ì¥ ìµœê·¼ì— ì‚­ì œëœ í–‰ì„ ë³µì›
         else if (c.startsWith("Z")) {
            int restore = deleted.pop();
            down[up[restore]] = restore;
            up[down[restore]] = restore;
         }
         // â¼ U ë˜ëŠ” Dë¥¼ ì‚¬ìš©í•´ í˜„ì¬ ìœ„ì¹˜ë¥¼ ìœ„, ì•„ë˜ë¡œ ì´ë™
         else {
            String[] s = c.split(" ");
            int x = Integer.parseInt(s[1]);
            for (int i = 0; i < x; i++) {
               k = s[0].equals("U") ? up[k] : down[k];
            }
         }
      }

      // â½ ì‚­ì œëœ í–‰ì˜ ìœ„ì¹˜ì— â€˜Xâ€™ë¥¼, ê·¸ë ‡ì§€ ì•Šì€ í–‰ ìœ„ì¹˜ì—ëŠ” â€˜Oâ€™ë¥¼ ì €ì¥í•œ ë¬¸ìì—´ ë°˜í™˜
      char[] answer = new char[n];
      Arrays.fill(answer, 'O');

      for (int i : deleted) {
         answer[i - 1] = 'X';
      }

      return new String(answer);
   }
}
```

### ì•Œê²Œëœ ì 

- ë¬¸ì œë¥¼ ì½ê³  ìš°ìŠµê²Œ ë³´ì•˜ë‹¤ê°€ ëœí†µ ë‹¹í–ˆë‹¤. ì—­ì‹œ level3ì¸ ì´ìœ ê°€ ìˆëŠ”ê±° ê°™ë‹¤. 